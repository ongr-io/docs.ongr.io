Whys, How tos & hows
====================

Why?
----

Readthedocs compiles documentation from one repository only. We have many.
So this repository clones other repositories defined in sources/.repos and lets you have documentation from a number of (public) repositories.

How to test whether your documentation builds locally
-----------------------------------------------------

Refer to .travis.yml :-)
or, alternatively:
::

    sudo pip install -q sphinx --use-mirrors
    wget -q -O conf.py https://raw.githubusercontent.com/ongr-io/docs-aggregator/master/source/conf-travis.py
    mkdir _static
    sphinx-build -nW -b html -c . Resources/doc _build/html

How to: PHP API documentation generator
---------------------------------------

::

    composer global require "sphpdox/sphpdox:dev-master"
    composer update
    cd ~/.composer/vendor/sphpdox/sphpdox/
    ./sphpdox.php process -o ~/myOutputDir  'My\Name\Space' ~/myProjectSource/

How to setup your repo documentation structure?
-----------------------------------------------

Use ``{ProjectRoot}\Resources\doc\`` for human documentation. Please have a ``index.rst`` with something like this inside:

::

    Your project name
    =================

    Contents:

    .. toctree::
            :maxdepth: 150
            :titlesonly:
            :glob:

            somethingSomething/important*
            *

Use ``{ProjectRoot}\Resources\API\`` for autogenerated API documentation.

Only these two directories will be retrieved and processed.

Requirements for rst files
--------------------------

When linking to documents,

- Please use relative paths
- Please link documents like this:

::

    - `MySQL Binlog Diff Provider <binlog.rst>`_

instead of this:
::

    Abstract provider class: DiffProvider_
    ...
    something something
    ...

    .. _DiffProvider: diff_provider.rst

As the following method makes sphinx sad, while using `:doc:` directive makes GitHub cry.

Usage
-----

Add git repositories to sources/.repos file.
Publish it on github, add as a project to readthedocs.
Build and enjoy.


How does this work?
-------------------

It's a mystery!

|mystery|


.. |mystery| image:: images/mystery.gif
